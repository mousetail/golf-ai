<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Golf AI - The Premium Golf AI Platform</title>
        <script>
            const sleep = (ms) => new Promise((resolve, _reject) => {
                setTimeout(resolve, ms)
            });

            const codePages = {
                'vyxal': 'âŠÃ—Ã·!$%&\'*+,-:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ^_`abcdefghijlmnopqrstuvwxyzâ—²â¨¥â¨ªâˆ‘Î â‡§â‡©âˆªâˆ©âŠâ¦°Â«Â»Æ“É Ä Ä¡âŒˆâŒŠâŠ–âŒ½Â£Â¥â†œâ†â†ºâ†»â‰œâ€âŠ¢âŠ£É¦Êˆááµá•Â½Æ¶Æµâ°Â¹Â²Â³â…Ÿâ€»â‡„â§–â€°â‰›â„­â„ˆâ¦·Ï¢â‰¤â‰¥â‰ â‰¡â€¢Â±â€ â™Î³â‰“Ï¾á´¥â„³â„—â†¸â¢â„‚âŒ¹âšâ†¯âŠ âš…Ã¦â£Â¶â˜…á‘‚âˆ»âˆšâ°â—ŒÎ´â˜·Ïƒâ¶âŠ†â¨â˜êœâ‰ˆâ‰ŠÎºâ€¹â€ºÊ€ÊÉ¾â–²á¹¬á¹ªâ¤»â¤ºÄ¿Â¬âˆ§âˆ¨Åá¸§Â¤â§¢â‘ â‘¡â‘¢â‘£â‘¤â‘¥â‘¦â‘§â€â€â€œ#Â¿#,#?#C#Q#X#c#w#x#â†¸kâ©”k+k-k0k1k2k3k4k5k6k<k>kAkBkDkFkHkLkNkPkRkVkYkZk^kakdkekgkhkikkklkokpkrkvkykzkâ—²kâˆªkâˆ©kÆ“kÉ kÄ kÄ¡kâ€kÂ½kâ°kÂ²kÂ³kâ€¢kÂ±kÎ³kâ„‚kâŒ¹kÃ¦kâ—Œkâ˜·kâ¶kâ˜kâ‰ˆká¹¬kÂ¤kâ‘ kâ‘¡kâ‘¢kâ‘£kâ‘¤kâ‘¥kâ‘¦kâ‘§Ã0ÃOÃRÃTÃXÃiÃoÃâˆ©ÃâŠÃâ¦°Ãâ†»Ãâ€ÃÆµÃâ°ÃÂ¹Ãâ…ŸÃâ—ŒÃâ¶ÃÂ¤âˆ†<âˆ†Aâˆ†Câˆ†Gâˆ†Hâˆ†Iâˆ†Lâˆ†Râˆ†Sâˆ†Tâˆ†câˆ†dâˆ†qâˆ†râˆ†sâˆ†tâˆ†âŠâˆ†â€âˆ†Êˆâˆ†â„­âˆ†âŒ¹âˆ†â†¯âˆ†Ã¦âˆ†á¹¬âˆ†Â¬âˆ†âˆ§âˆ†âˆ¨âˆ†â§¢Ã¸AÃ¸â—²',
                'uiua': '"â—Œâˆ˜Â¬Â±Â¯âŒµâˆšâˆ¿âŒŠâŒˆâ…â‰ â‰¤â‰¥Ã—Ã·â—¿âˆ¨â¿â‚™â†§â†¥âˆ â„‚â§»â–³â‡¡âŠ¢âŠ£â‡Œâ™­Â¤â‹¯â‰â†ââ–âŠšâŠ›â—´â—°â–¡â‹•â‰âŠŸâŠ‚âŠâŠ¡â†¯â†™â†˜â†»â¤¸â—«â–½âŒ•â¦·âˆˆâŠ—âˆ§âˆµâ‰¡âšâŠâ§…â§ˆâ¥âŠ•âŠœâ—‡â‹…âŠ™ğ„âŸœâ¤™â¤šâŠ¸â— â—¡Ë™Ëœâˆ©âŒ…Â°âŒâœâŠƒâŠ“â¢â¬šâ¨¬â£â©â¤âš‚Î·Ï€Ï„âˆâˆ‚âˆ«â†â†šâ€¼"',
                'apl': '+-Ã—Ã·âŒˆâŒŠ*!|âŸâ—‹âŒ¹âŠ¥âŠ¤?~âˆ§âˆ¨â²â±<>â‰¤â‰¥=â‰ â‰¡â‰¢â´,âªâŒ½âŠ–â‰â†‘â†“âŠ‚âŠ†â‰¡âˆŠâŒ·âŠƒ/âŒ¿\\â€~â‰ âˆªâˆ©âŠ£âŠ¢â³â¸âˆŠâ·â‹â’Â¨â¨â£.âˆ˜/\\âŒ¿â€âŒ¸â¤â¥âŒº@â Â¯â†â¬ââ•â‹„ââˆ‡âºâµ'
            }

            async function submit() {
                const language = document.getElementById('language-select').value;

                const codepage = codePages[language];
                const progress = document.getElementById('progress');
                const result = document.getElementById('result');
                const byteCount = document.getElementById('byte-count');
                result.textContent = '';
                byteCount.replaceChildren();

                progress.removeAttribute('value');

                const length = Math.floor(Math.random() * Math.random() * Math.random() * 100) + 5;
                console.log(length);

                for (let i=0; i<length; i++) {
                    await sleep(Math.random() * Math.random() * Math.random() * 4000);

                    const char = codepage[Math.floor(Math.random() * codepage.length)];
                    result.textContent += char;
                }

                byteCount.textContent = `All tests passed, ${length} bytes. `;

                const link = document.createElement('a');
                link.href='#';
                link.textContent = 'Copy Markdown';

                link.addEventListener('click', (ev)=>{
                    ev.preventDefault();

                    navigator.clipboard.writeText(`# ${language}, ${length} bytes\n\`\`\`\n${result.textContent}\n\`\`\`\nGenerated with help of [Golf AI](https://mousetail.github.io/golf-ai)`)
                })

                byteCount.appendChild(link);

                progress.setAttribute('value', 0);
                
            }
        </script>
        <style>
            @media (prefers-color-scheme: dark) {
                html {
                    filter: invert(1);
                }
            }

            * {
                box-sizing: border-box;
            }

            body {
                font-family: sans-serif;
            }

            textarea {
                width: calc(100% - 1rem);
                height: 20rem;
                border-bottom: 0.5rem;
            }

            button {
                padding: 1rem;
                border: 4px solid grey;
                background-color: black;
                color: white;
                border-radius: 1rem;

                &:hover {
                    border-color: white;
                }
            }

            select {
                padding: 1rem;
                border: 4px solid grey;
                background-color: white;
                border-radius: 1rem;
            }

            .vw {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 2rem;
                margin-top: 1rem;
                margin-bottom: 1rem;
            }

            progress {
                width: calc(100% - 1rem);
            }

            .result {
                padding: 1rem;
                height: 15rem;
                width: calc(100% - 1rem)
            }

            textarea, .result {
                border: 2px solid grey;
                border-radius: 1rem;
                padding: 1rem;
            }
        </style>
    </head>
    <body>
        <h2>Golf AI - The best AI-powered auto-golfer</h2>

        <label for="query-ta">Describe the problem:</label>
        <br>
        <textarea id="for">Sort an array by relative primeness</textarea>
        <br>

        <div class="vw">
            <label for="language-select">Language:</label>
            <select id="language-select">
                <option value="vyxal">Vyxal</option>
                <option value="apl">APL</option>
                <option value="uiua">Uiua</option>
            </select>
            <button onclick="submit()">Submit!</button>
        </div>

        <hr>
        <progress value="0" id="progress"></progress>

        <hr>
        <br>
        <pre class="result" id="result">

        </pre>

        <h3 id="byte-count">

        </h3>

        Want to find interesting code golf challenges? Consider visiting <a href="https://byte-heist.com">Byte Heist</a>.
    </body>
</html>